---
spec:
  containers:
  - name: "workbench-1"
    image: "{{ ORGNAME }}-{{ ACCOUNTNAME }}.registry.snowflakecomputing.com/{{ REPO_DB }}/{{ REPO_SCHEMA }}/{{ REPO_NAME }}/nix-ttyd-container-archive-skopeo:latest"
    command:
    - "ttyd"
    - "--port=8000"
    - "--writable"
    - "bash"
    resources:
      limits:
        memory: "6Gi"
        cpu: "1"
      requests:
        memory: "0.5Gi"
        cpu: "0.5"
# Optional, if a stage mount is needed
    # volumeMounts:
    # - name: "my-stage"
    #   mountPath: "/stage"
  # volumes:
  # - name: "my-stage"
  #   source: "stage"
  #   uid: 0
  #   gid: 0
  #   stageConfig:
  #     name: "@SPCS.WORKBENCH.WORKBENCH_STAGE"
  endpoints:
    # Main port ttyd will listen on
  - name: "webshell"
    port: 8000
    public: true
    # Useful for bringing up arbitrary services
  - name: "random"
    port: 8001
    public: true

